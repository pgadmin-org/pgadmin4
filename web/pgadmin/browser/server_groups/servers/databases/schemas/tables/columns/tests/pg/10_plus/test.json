{
  "scenarios": [
    {
      "type": "create",
      "name": "Create Table for testing column node (v.10+)",
      "endpoint": "NODE-table.obj",
      "sql_endpoint": "NODE-table.sql_id",
      "data": {
        "name": "table_2_$%{}[]()&*^!@\"'`\\/#",
        "is_partitioned": false,
        "columns": [],
        "schema": "testschema"
      },
      "store_object_id": true
    },
    {
      "type": "create",
      "name": "Create Column (Integer/Numeric type)",
      "endpoint": "NODE-column.obj",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql",
      "data": {
        "name": "col_1_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for create",
        "cltype": "bigint",
        "attacl": [],
        "is_primary_key": false,
        "attnotnull": true,
        "attlen": null,
        "attprecision": null,
        "attoptions": [],
        "seclabels": [],
        "defval": "1"
      },
      "expected_sql_file": "create_column_int.sql",
      "expected_msql_file": "create_column_int.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Integer/Numeric type)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 1,
        "name": "new_col_1_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for alter",
        "cltype": "real",
        "attacl": {
          "added": [
            {
              "grantee": "PUBLIC",
              "grantor": "postgres",
              "privileges": [
                {
                  "privilege_type": "a",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "r",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "w",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "x",
                  "privilege": true,
                  "with_grant": false
                }
              ]
            }
          ]
        }
      },
      "expected_sql_file": "alter_column_int.sql",
      "expected_msql_file": "alter_column_int.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Privilege change)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 1,
        "name": "new_col_1_$%{}[]()&*^!@\"'`\\/#",
        "cltype": "real",
        "attacl": {
          "changed": [
            {
              "grantee": "postgres",
              "grantor": "postgres",
              "privileges": [
                {
                  "privilege_type": "a",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "r",
                  "privilege": true,
                  "with_grant": false
                }
              ]
            }
          ]
        }
      },
      "expected_sql_file": "alter_column_alt_privilege.sql",
      "expected_msql_file": "alter_column_alt_privilege.msql"
    },
    {
      "type": "delete",
      "name": "Drop Column (Integer/Numeric type)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "data": {
        "name": "new_col_1_$%{}[]()&*^!@\"'`\\/#"
      }
    },
    {
      "type": "create",
      "name": "Create Column (Character type)",
      "endpoint": "NODE-column.obj",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql",
      "data": {
        "name": "col_2_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for create",
        "cltype": "character varying",
        "collspcname": "pg_catalog.\"C\"",
        "attacl": [],
        "is_primary_key": false,
        "attnotnull": false,
        "attlen": "50",
        "attprecision": null,
        "attoptions": [],
        "seclabels": [],
        "defval": null
      },
      "expected_sql_file": "create_column_char.sql",
      "expected_msql_file": "create_column_char.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Character type)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 2,
        "name": "new_col_2_$%{}[]()&*^!@\"'`\\/#",
        "attlen": null,
        "attstattarget": "5",
        "attstorage": "p",
        "description": "Comment for alter",
        "cltype": "character",
        "attacl": {
          "added": [
            {
              "grantee": "PUBLIC",
              "grantor": "postgres",
              "privileges": [
                {
                  "privilege_type": "a",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "r",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "x",
                  "privilege": true,
                  "with_grant": false
                }
              ]
            }
          ]
        }
      },
      "expected_sql_file": "alter_column_char.sql",
      "expected_msql_file": "alter_column_char.msql"
    },
    {
      "type": "delete",
      "name": "Drop Column (Character type)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "data": {
        "name": "new_col_2_$%{}[]()&*^!@\"'`\\/#"
      }
    },
    {
      "type": "create",
      "name": "Create Column (Integer/Numeric type) with identity",
      "endpoint": "NODE-column.obj",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql",
      "data": {
        "name": "col_3_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for create",
        "cltype": "bigint",
        "attacl": [],
        "is_primary_key": false,
        "attnotnull": true,
        "attlen": null,
        "attprecision": null,
        "attoptions": [],
        "seclabels": [],
        "attidentity": "a",
        "seqincrement": "1",
        "seqstart": "1",
        "seqmin": "1",
        "seqmax": "99999",
        "seqcache": "10",
        "seqcycle": true,
        "colconstype": "i"
      },
      "expected_sql_file": "create_column_int_identity.sql",
      "expected_msql_file": "create_column_int_identity.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Integer/Numeric type) with identity",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 3,
        "name": "new_col_3_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for alter",
        "attacl": {
          "added": [
            {
              "grantee": "PUBLIC",
              "grantor": "postgres",
              "privileges": [
                {
                  "privilege_type": "a",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "r",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "x",
                  "privilege": true,
                  "with_grant": false
                }
              ]
            }
          ]
        }
      },
      "expected_sql_file": "alter_column_identity.sql",
      "expected_msql_file": "alter_column_identity.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Integer/Numeric type) drop identity",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 3,
        "colconstype": "n"
      },
      "expected_sql_file": "alter_column_drop_identity.sql",
      "expected_msql_file": "alter_column_drop_identity.msql"
    },
    {
      "type": "delete",
      "name": "Drop Column (Integer/Numeric type)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "data": {
        "name": "new_col_3_$%{}[]()&*^!@\"'`\\/#"
      }
    },
    {
      "type": "create",
      "name": "Create Column (Numeric type with Length Precision & Variables)",
      "endpoint": "NODE-column.obj",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql",
      "data": {
        "name": "col_4_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for create",
        "min_val": 0,
        "max_val": 1000,
        "cltype": "numeric",
        "attacl": [],
        "is_primary_key": false,
        "attnotnull": true,
        "attlen": "10",
        "attprecision": "5",
        "attidentity": "a",
        "attoptions": [
          {
            "name": "n_distinct",
            "value": "1"
          }
        ],
        "seclabels": []
      },
      "expected_sql_file": "create_column_numeric.sql",
      "expected_msql_file": "create_column_numeric.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Numeric type with Length Precision & Variables)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "name": "new_col_4_$%{}[]()&*^!@\"'`\\/#",
        "attnum": 4,
        "attlen": "15",
        "attprecision": "6",
        "description": "Comment for alter",
        "attacl": {
          "added": [
            {
              "grantee": "PUBLIC",
              "grantor": "postgres",
              "privileges": [
                {
                  "privilege_type": "a",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "r",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "w",
                  "privilege": true,
                  "with_grant": false
                },
                {
                  "privilege_type": "x",
                  "privilege": true,
                  "with_grant": false
                }
              ]
            }
          ]
        }
      },
      "expected_sql_file": "alter_column_numeric.sql",
      "expected_msql_file": "alter_column_numeric.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column (Remove Length)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 3,
        "attlen": ""
      },
      "expected_sql_file": "alter_column_remove_length.sql",
      "expected_msql_file": "alter_column_remove_length.msql"
    },
    {
      "type": "delete",
      "name": "Drop Column (Numeric type with Length Precision & Variables)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "data": {
        "name": "new_col_4_$%{}[]()&*^!@\"'`\\/#"
      }
    },
    {
      "type": "create",
      "name": "Create Column with identity (Generated by default)",
      "endpoint": "NODE-column.obj",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql",
      "data": {
        "name": "col_5_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for create",
        "cltype": "bigint",
        "attacl": [],
        "is_primary_key": false,
        "attnotnull": true,
        "attlen": null,
        "attprecision": null,
        "attoptions": [],
        "seclabels": [],
        "attidentity": "d",
        "seqincrement": "1",
        "seqstart": "1",
        "seqmin": "1",
        "seqmax": "99999",
        "seqcache": "10",
        "seqcycle": true,
        "colconstype": "i"
      },
      "expected_sql_file": "create_column_int_identity_by_default.sql",
      "expected_msql_file": "create_column_int_identity_by_default.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column with identity (Generated by default)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 5,
        "name": "new_col_5_$%{}[]()&*^!@\"'`\\/#",
        "description": "Comment for alter",
        "seqincrement": "2",
        "seqmax": "200",
        "seqcache": "2",
        "seqcycle": true,
        "seqmin": "1"
      },
      "expected_sql_file": "alter_column_identity_by_default.sql",
      "expected_msql_file": "alter_column_identity_by_default.msql"
    },
    {
      "type": "alter",
      "name": "Alter Column with drop identity (Generated by default)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 5,
        "colconstype": "n"
      },
      "expected_sql_file": "alter_column_drop_identity_by_default.sql",
      "expected_msql_file": "alter_column_drop_identity_by_default.msql"
    },
    {
      "type": "delete",
      "name": "Drop Column Column with identity (Generated by default)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "data": {
        "name": "new_col_5_$%{}[]()&*^!@\"'`\\/#"
      }
    },
    {
      "type": "create",
      "name": "Create Column with identity (BY DEFAULT) for combination of identity options & initiate START",
      "endpoint": "NODE-column.obj",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql",
      "data": {
        "name": "col_6_$%{}[]()&*^!@\"'`\\/#",
        "cltype": "bigint",
        "attacl": [],
        "description": "demo comments",
        "is_primary_key": false,
        "attnotnull": true,
        "attlen": null,
        "attprecision": null,
        "attidentity": "d",
        "seqincrement": "1",
        "seqstart": "1",
        "seqmin": "1",
        "seqmax": "10",
        "seqcache": "1",
        "seqcycle": true,
        "colconstype": "i",
        "attoptions": [],
        "seclabels": []
      },
      "expected_sql_file": "create_column_identity_for_restart_seq.sql",
      "expected_msql_file": "create_column_identity_for_restart_seq.msql"
    },
    {
      "type": "alter",
      "name": "Alter identity Column (BY DEFAULT) to ALWAYS & Update START",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnotnull": true,
        "attidentity": "a",
        "seqstart": 2,
        "seqcycle": false
      },
      "expected_sql_file": "alter_column_identity_for_restart_seq.sql",
      "expected_msql_file": "alter_column_identity_for_restart_seq.msql"
    },
    {
      "type": "alter",
      "name": "Alter identity Column (ALWAYS) for combination of identity options & Update START",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "msql_endpoint": "NODE-column.msql_id",
      "data": {
        "attnum": 9,
        "attidentity": "a",
        "seqincrement": "3",
        "seqstart": "3",
        "seqmin": "3",
        "seqmax": "30",
        "seqcache": "3",
        "seqcycle": true
      },
      "expected_sql_file": "alter_column_identity_for_comb_start_seq.sql",
      "expected_msql_file": "alter_column_identity_for_comb_start_seq.msql"
    },
    {
      "type": "delete",
      "name": "Drop Column with identity (ALWAYS)",
      "endpoint": "NODE-column.obj_id",
      "sql_endpoint": "NODE-column.sql_id",
      "data": {
        "name": "col_6_$%{}[]()&*^!@\"'`\\/#"
      }
    }
  ]
}
